反射机制介绍

Java反射机制是Java语言一个很重要的特性，它使得Java具有了“动态性”。在Java程序运行时，对于任意一个类，我们能知道这个类的属性和方法，这种动态获取类的信息以及动态调用对象的方法的功能就来自与Java语言的反射机制。

反射的作用

RTTI（运行时类型识别）和DC（动态创建）

我们知道反射机制允许程序在运行时取得任何一个已知名称的class的内部信息，包括其modifiers（修饰符），field（属性），method（方法）等，并可于运行时改变fields内容或调用methods。那么我们便可以更灵活的编写代码，代码可以在运行时装配，无需在组件之间进行源代码链接，降低代码的耦合度；还有动态代理的实现等等，但是需要注意的是反射使用不当会造成很高的资源消耗。

反射的具体实现

获取class对象的三种方式

1.通过getClass()方法；

2.通过.class静态属性；

3.通过Class类中的静态方法forName();

反射机制的效率

由于Java反射是要解析字节码，将内存中的对象进行解析，包括了一些动态类型，而JVM无法对这些代码进行优化。因此，反射操作的效率要比那些非反射操作低得多。

setAccessible()方法  是启用和禁用访问安全检查的开关。值为true则指示反射的对象在使用时应该取消Java语言访问检查。值为false则指示反射的对象应该实施Java语言访问检查；默认值为false。由于JDK的安全检查耗时较多，所以通过setAccessible(true)的方式关闭安全检查就可以达到提升反射速度的目的。

总结

Java反射机制是Java语言的一个很重要的特性，它使得Java具有了“动态性”。

反射机制的优点：更灵活，更开放

反射机制的缺点：降低程序执行的效率，增加代码维护的困难

获取Class类的对象的三种方式：运行getClass()，运行.class语法，运行Class.forName()（最常被使用）

反射机制的常见操作

动态加载类，动态获取类的信息（属性，方法，构造器）

动态构造对象

动态调用类和对象的任意方法

动态调用和处理属性

获取泛型信息

处理注解